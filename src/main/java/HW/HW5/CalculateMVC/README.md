# Урок 5. Горизонтальные уровни и вертикальные срезы архитектуры

Домашнее задание по семинару по архитектуре на Java:
Ваша задача - выбрать систему (например, калькулятор, зоопарк животных или что-то другое) и 
сформировать компоненты для этой системы, а затем создать диаграмму компонент UML для вашей системы. 
Это поможет вам лучше понять архитектурные принципы и их применение на практике.

Шаги:
1. Выберите систему: 
Определитесь с системой, которую вы хотели бы разработать. 
Это может быть что угодно, от простого калькулятора до более сложной системы.

2. Сформируйте компоненты: 
Разбейте вашу систему на горизонтальные уровни и вертикальные срезы, как было обсуждено на семинаре. 
Создайте классы или компоненты для каждого уровня и среза, определите их функции и отношения друг с другом.

3. Создайте диаграмму компонент UML: 
Используйте UML (Unified Modeling Language) для создания диаграммы компонент вашей системы. 
В диаграмме должны быть отображены компоненты, их свойства и взаимосвязи. 
Вы можете использовать специализированные инструменты для создания UML-диаграмм или нарисовать её вручную.

4. Пояснения и комментарии: 
Добавьте к вашей диаграмме пояснения и комментарии, чтобы объяснить, как работает каждый компонент и 
как они взаимодействуют друг с другом.

## Теория 
1. Горизонтальные слои связаны с назначением слоя в коде системы.
   Например, есть слой базы данных и бизнес-логики.

2. Вертикальные слои связаны с тем, что делает система, с её функциями
   (сценарии использования). Сценарии использования меняются по разным
   причинам, друг от друга независимым. Поэтому важно защищать их друг от
   друга.


Горизонтальные уровни:
1. пользовательский интерфейс — интерфейс, обеспечивающий передачу
информации между пользователем-человеком и программно-аппаратными
компонентами компьютерной системы

2. бизнес-правила, характерные для приложения;
3. бизнес-правила, не зависящие от приложения;
(Бизнес-правила — совокупность правил, принципов, зависимостей
поведения объектов предметной области. Последнее — область человеческой
деятельности, поддерживаемая системой)

4. слой базы данных — это организованная структура, предназначенная для
хранения, изменения и обработки взаимосвязанной информации,
преимущественно больших объёмов.

Вертикальные срезы:
Горизонтальные слои, как правило, вертикально делятся на группы
компонентов в соответствии с различными сценариями использования, которые
обычно имеет приложение. Это может выглядеть как многослойный торт, где
каждый ломтик — пример (сценарий) использования, а каждый слой в ломтике —
компонент. Варианты использования дают естественный способ деления
системы. При развёртывании приложения компоненты группируются любым
способом, который имеет наибольший смысл.
То есть вместе с делением системы на горизонтальные слои, мы
одновременно делим её на тонкие вертикальные варианты использования,
пересекающие эти слои.
Разделив элементы системы, изменяющиеся по разным причинам, мы
можем добавлять новые варианты использования, не влияя на имеющиеся.
Поскольку фрагменты делят слои приложения вертикально и включают в
себя всю функциональность конкретной функции от пользовательского
интерфейса до уровня хранения данных. Вертикальные срезы должны быть
небольшими. После завершения работы она сразу же будет готова к интеграции и
тестированию.

#### Вывод
То есть, при проектировании ПО мы создаем модули и по мере роста этого ПО у нас появляются все больше
новых модулей которые начинают взаимодействовать между собой и быть связанными. При дальнейшем росте ПО модулей 
станет гораздо больше и безболезненно удалить/изменить модуль уже не получиться. 
Для решения этой проблемы модули должны обладать:
1. Сильной связанностью(где все модули направлены на выполнение одной конкретной задачи)
2. Слабой зацепленостью(имеется ввиду зацепленость с другими модулями)

Архитектура - это набор модулей/компонентов и связей между этими компонентами

### CalculateMVC

MVC — это шаблон программирования, который позволяет разделить логику приложения на три части:

1. Model (модель). Получает данные от контроллера, выполняет необходимые операции и передаёт их в вид.
2. View (вид или представление). Получает данные от модели и выводит их для пользователя.
3. Controller (контроллер). Обрабатывает действия пользователя, проверяет полученные данные и передаёт их модели.

#### View
Это отображение нашего калькулятора, как он выглядит. Это свое рода интерфейс
View обеспечивает различные способы представления данных, 
которые получены из модели. Он может быть шаблоном, который заполняется данными.

#### Model 
Это бизнес логика, которая выполняется в нашем калькуляторе
Модель в широком смысле — это данные и правила, которые используются для работы с 
данными — вместе они составляют бизнес-логику приложения. 
Проектирование приложения всегда начинается с построения моделей объектов, которыми оно оперирует.
Модель дает контроллеру представление данных, которые запросил пользователь
Модель содержит наиболее важную часть логики нашего приложения, логику, которая решает задачу,
с которой мы имеем дело (форум, магазин, банк и тому подобное). 
Контроллер содержит в основном организационную логику для самого приложения (прямо как твой Project Manager).

#### Controller 
То что связывает все между собой.
Основная функция контроллера в данном случае — это вызывать методы у нужных объектов, 
управлять доступом к ресурсам для выполнения задач, заданных пользователем. 
Обычно контроллер вызывает соответствующую модель для задачи и выбирает подходящий вид.

Например, банк.
Человек (user) пришел в банк. Он может обратиться к сотруднику или к банкомату. Оба они являются view
Для примера возьмем банкомат. Пользователь вводит данные в терминал. Этот терминал является контроллером (Controller).
Далее контроллер отправляет запрос в саму систему, которая умеет считать деньги, переводить и т.д. Это и является (model)
Все части системы не знают как другие работают, но знают об их существовании

Из интернета
Лучше всего понять концепцию MVC можно на реальном примере — ресторане с фастфудом. 
В нём посетители (пользователи) подходят к кассиру (одновременно вид и контроллер), 
видят меню и заказывают какое-нибудь блюдо.
Кассир проверяет, всё ли в порядке с заказом, и после оплаты передаёт нужные данные повару (модель). 
Повар готовит блюдо, хотя понятия не имеет о том, как выглядит посетитель, 
оплатил ли он заказ и так далее.

Когда модель закончит свою работу, она отправит результат в вид — обратно кассиру, который, 
в свою очередь, отдаст готовое блюдо посетителю.

Если же говорить о приложениях, то компоненты будут следующие:

Вид — интерфейс.
Контроллер — обработчик событий, инициируемых пользователем (нажатие на кнопку, переход по ссылке, отправка формы).
Модель — метод, который запускается обработчиком и выполняет все основные операции 
(получение записей из базы данных, проведение вычислений).